import React, { useState } from "react";

interface PinnedProps {
  initialState?: boolean;
  onChange?: (isPinned: boolean) => void;
  // Optional: Pass SVG components or elements as props if they are complex or reused elsewhere
  // pinnedIcon?: React.ReactNode;
  // unpinnedIcon?: React.ReactNode;
}

export const Pinned: React.FC<PinnedProps> = ({
  initialState = false,
  onChange,
}) => {
  const [isPinned, setIsPinned] = useState(initialState);

  const handleClick = () => {
    const newState = !isPinned;
    setIsPinned(newState);
    onChange?.(newState);
  };

  // Define your SVG icons here or import them
  // Replace the <svg> content with your actual icon code
  const PinnedIcon = (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="16"
      height="16"
      viewBox="0 0 16 16"
      fill="none"
    >
      <path
        d="M2.74145 12.3769C3.35792 11.7441 4.02004 11.1313 4.59855 10.4741L1.63731 7.44104C1.08954 6.60085 1.33947 5.32723 2.36135 5.01809C2.85263 4.86985 3.47362 4.98284 4.00015 4.9408C6.00505 4.78171 7.80701 3.65272 8.7272 1.85528C8.99114 1.33959 9.08696 0.715888 9.55338 0.333079C10.1572 -0.162269 11.0625 -0.0777523 11.65 0.405844C12.8012 1.71698 14.3948 2.91377 15.4926 4.24027C15.9188 4.75505 16.0914 5.45423 15.7954 6.0811C15.4524 6.80694 14.5986 6.92084 13.9555 7.26659C12.2312 8.1931 11.1113 10.0122 10.9771 11.9656C10.9151 12.8664 11.2202 13.8205 10.2675 14.3723C9.50592 14.8134 8.77104 14.559 8.15321 14.0211C7.21539 13.2053 6.37746 12.1473 5.44507 11.3107L0.953496 15.8507C0.41702 16.2796 -0.221146 15.7065 0.075339 15.1076C0.985133 14.2182 1.8538 13.2871 2.741 12.3764L2.74145 12.3769ZM14.5371 5.52293C14.5629 5.4827 14.548 5.34531 14.5322 5.29152C13.3069 3.94152 11.9827 2.65253 10.6584 1.39789C10.5698 1.35496 10.4483 1.34682 10.3936 1.44535C9.4535 4.33247 6.85654 6.1516 3.86457 6.34143C3.15544 6.38617 2.20316 6.06799 3.09081 7.00355C5.09616 9.11781 7.29223 11.0829 9.31746 13.1728C9.38028 13.2058 9.47564 13.2302 9.5344 13.1882C9.61982 13.1267 9.56423 12.3579 9.57462 12.1893C9.75767 9.24029 11.2536 6.93349 13.9568 5.73309C14.0445 5.69422 14.52 5.54914 14.5367 5.52338L14.5371 5.52293Z"
        fill="#30313D"
      />
    </svg>
  );

  const UnpinnedIcon = (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="16"
      height="16"
      viewBox="0 0 16 16"
      fill="none"
    >
      <path
        d="M15.9447 4.98797V5.80093C15.6898 6.78335 14.7345 6.86876 13.9731 7.2836C13.3838 7.60445 12.7607 8.10967 12.3345 8.62483C12.2441 8.73374 11.8989 9.28912 11.8203 9.27511L10.8894 8.3085C11.4515 7.35003 12.4412 6.52984 13.4227 6.00971C13.593 5.91933 14.5118 5.55962 14.5497 5.51126C14.6604 5.37208 14.5104 5.1633 14.4114 5.0544C13.2234 4.03944 12.1501 2.57032 10.9576 1.59965C10.8329 1.49797 10.6819 1.35427 10.5125 1.37958C10.4122 1.41211 10.1351 2.207 10.0552 2.37013C9.6245 3.24952 8.75279 4.40728 7.92311 4.93419C7.82505 4.99655 7.71614 5.11495 7.59458 5.05711L6.68988 4.10858C7.47573 3.60878 8.14363 2.95353 8.60954 2.14328C9.02212 1.42522 9.22909 0.181148 10.1998 0.0306665C10.8731 -0.0737215 11.3155 0.0885092 11.8153 0.515551C13.0978 1.6105 14.2424 3.09 15.5168 4.21929L15.9452 4.98752L15.9447 4.98797Z"
        fill="#30313D"
      />
      <path
        d="M11.0235 13.3198C10.8455 14.6389 9.14046 14.9755 8.2692 14.088L5.49321 11.3107L0.908718 15.8915C0.336617 16.2657 -0.259433 15.5937 0.118804 15.0564L4.64545 10.4738L1.8812 7.6973C0.988704 6.75555 1.34706 5.08444 2.74522 4.94751C2.96394 4.92627 3.14877 4.98231 3.32636 4.97824C3.57626 4.97237 3.85508 4.90865 4.11673 4.94209C4.15378 4.78618 4.04126 4.80381 3.95721 4.71885C3.08008 3.83268 2.21244 2.93883 1.32446 2.06803C0.829636 1.42453 1.62497 0.738549 2.19933 1.28308L14.7259 13.8164C15.138 14.3203 14.7006 14.9927 14.0616 14.7519C13.0503 13.8643 12.1157 12.8706 11.1803 11.8986L11.0244 11.8516C10.9801 12.3098 11.0845 12.8747 11.0244 13.3193L11.0235 13.3198ZM5.45751 6.17577C5.41864 6.14052 5.36667 6.12289 5.31471 6.1238C5.08966 6.12741 4.64274 6.2684 4.36437 6.29733C4.18632 6.31585 3.95902 6.33393 3.77962 6.34477C3.30015 6.37369 2.3331 6.1247 2.98654 6.86355C5.13937 8.95176 7.18149 11.1742 9.39669 13.1878C9.55892 13.2385 9.60682 13.2145 9.62625 13.0518C9.67867 12.6184 9.62082 12.0689 9.66963 11.6048C9.69222 11.3893 9.88383 10.655 9.80746 10.5302L5.45751 6.17622V6.17577Z"
        fill="#30313D"
      />
    </svg>
  );

  return (
    <button
      onClick={handleClick}
      className={`inline-flex items-center justify-center gap-2 pl-2 pr-4 py-1.5 rounded-[20px] ${
        isPinned
          ? "bg-[#ffe49d]"
          : "bg-white border border-solid border-[#30313d]"
      }`}
      aria-pressed={isPinned}
      aria-label={
        isPinned
          ? "Toggle pin status, currently pinned"
          : "Toggle pin status, currently unpinned"
      }
    >
      <span className="relative w-[15.95px] h-4 flex items-center justify-center">
        {" "}
        {/* Added flex alignment */}
        {/* Conditionally render the SVG based on the state */}
        {isPinned ? PinnedIcon : UnpinnedIcon}
      </span>
      <span className="relative w-fit font-medium text-[#30313d] text-sm text-center tracking-[0.10px] leading-5 whitespace-nowrap font-['Poppins',Helvetica]">
        {isPinned ? "Pinned" : "Unpinned"}
      </span>
    </button>
  );
};
